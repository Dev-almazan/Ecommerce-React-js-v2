{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\desarrollos\\\\Nueva carpeta\\\\Ecommerce-React-js-v2\\\\src\\\\context\\\\loginContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from 'react';\n\n//Importamos Firebase db\nimport { collection, getDocs, query, where } from \"firebase/firestore\";\nimport { db } from \"../firebase/config\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const LoginContext = /*#__PURE__*/createContext();\nexport const LoginProvider = _ref => {\n  _s();\n  let {\n    children\n  } = _ref;\n  const [user, setUser] = useState({\n    email: '',\n    logged: false\n  });\n  const login = data => {\n    const users = collection(db, \"usuarios\");\n    getDocs(users).then(result => {\n      //Mapeamos objet agregamos id y data\n      const datos = result.docs.map(datos => {\n        return {\n          id: datos.id,\n          ...datos.data()\n        };\n      });\n      const validar = datos.filter(user => user.correo == data.correo && user.contraseña == data.contraseña);\n      if (validar.length > 0) {\n        setUser({\n          email: validar.correo,\n          logged: true\n        });\n      } else {\n        setUser({\n          email: '',\n          logged: false,\n          error: 'Usuario o contraseña incorrectos'\n        });\n      }\n    });\n  };\n  const logout = () => {\n    setUser({\n      email: '',\n      logged: false\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(LoginContext.Provider, {\n    value: {\n      user,\n      login,\n      logout\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 13\n  }, this);\n};\n_s(LoginProvider, \"yVBphvcNaGjoMlqxQhUGs32UXX8=\");\n_c = LoginProvider;\nvar _c;\n$RefreshReg$(_c, \"LoginProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","collection","getDocs","query","where","db","LoginContext","LoginProvider","children","user","setUser","email","logged","login","data","users","then","result","datos","docs","map","id","validar","filter","correo","contraseña","length","error","logout"],"sources":["C:/xampp/htdocs/desarrollos/Nueva carpeta/Ecommerce-React-js-v2/src/context/loginContext.js"],"sourcesContent":["\n    import { createContext, useState ,useEffect} from 'react';\n\n        //Importamos Firebase db\n        import {collection, getDocs ,query, where} from \"firebase/firestore\";\n        import { db } from \"../firebase/config\";\n\n    export const LoginContext = createContext();\n\n\n\n    export const LoginProvider = ({children})=>\n    {\n\n       const [user, setUser] = useState({\n        \n         email :'',\n         logged :false\n       });\n\n\n        const login = (data) =>{\n\n\n                 const users = collection(db,\"usuarios\");\n\n                 getDocs(users).then((result) => {\n     \n                                //Mapeamos objet agregamos id y data\n                                const datos =  result.docs.map((datos)=> {\n                                return {\n                                        id : datos.id,\n                                        ...datos.data()\n\n                                        \n                                }\n                     \n                     });\n\n\n                     const validar = datos.filter(user=> user.correo == data.correo && user.contraseña == data.contraseña)\n\n\n                        if(validar.length > 0)\n                        {    \n                            setUser ({\n                                email : validar.correo,\n                                logged :true\n                            })\n                            \n                        \n                        }\n                        else\n                        {\n                        \n                            setUser ({\n                                email : '',\n                                logged :false,\n                                error : 'Usuario o contraseña incorrectos'\n                            })\n                            \n                        }    \n \n                      \n                    });\n\n                   \n       \n\n        }\n\n                const logout = () =>{\n                    \n                        setUser ({\n                            email : '',\n                            logged :false\n                        })\n\n        }\n\n        return(\n            <LoginContext.Provider value={{user,login,logout}}>\n                 {children}\n            </LoginContext.Provider>\n        )\n\n    }"],"mappings":";;AACI,SAASA,aAAa,EAAEC,QAAQ,EAAEC,SAAS,QAAO,OAAO;;AAErD;AACA,SAAQC,UAAU,EAAEC,OAAO,EAAEC,KAAK,EAAEC,KAAK,QAAO,oBAAoB;AACpE,SAASC,EAAE,QAAQ,oBAAoB;AAAC;AAE5C,OAAO,MAAMC,YAAY,gBAAGR,aAAa,EAAE;AAI3C,OAAO,MAAMS,aAAa,GAAG,QAC7B;EAAA;EAAA,IAD8B;IAACC;EAAQ,CAAC;EAGrC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGX,QAAQ,CAAC;IAE/BY,KAAK,EAAE,EAAE;IACTC,MAAM,EAAE;EACV,CAAC,CAAC;EAGD,MAAMC,KAAK,GAAIC,IAAI,IAAI;IAGd,MAAMC,KAAK,GAAGd,UAAU,CAACI,EAAE,EAAC,UAAU,CAAC;IAEvCH,OAAO,CAACa,KAAK,CAAC,CAACC,IAAI,CAAEC,MAAM,IAAK;MAEjB;MACA,MAAMC,KAAK,GAAID,MAAM,CAACE,IAAI,CAACC,GAAG,CAAEF,KAAK,IAAI;QACzC,OAAO;UACCG,EAAE,EAAGH,KAAK,CAACG,EAAE;UACb,GAAGH,KAAK,CAACJ,IAAI;QAGrB,CAAC;MAEZ,CAAC,CAAC;MAGF,MAAMQ,OAAO,GAAGJ,KAAK,CAACK,MAAM,CAACd,IAAI,IAAGA,IAAI,CAACe,MAAM,IAAIV,IAAI,CAACU,MAAM,IAAIf,IAAI,CAACgB,UAAU,IAAIX,IAAI,CAACW,UAAU,CAAC;MAGlG,IAAGH,OAAO,CAACI,MAAM,GAAG,CAAC,EACrB;QACIhB,OAAO,CAAE;UACLC,KAAK,EAAGW,OAAO,CAACE,MAAM;UACtBZ,MAAM,EAAE;QACZ,CAAC,CAAC;MAGN,CAAC,MAED;QAEIF,OAAO,CAAE;UACLC,KAAK,EAAG,EAAE;UACVC,MAAM,EAAE,KAAK;UACbe,KAAK,EAAG;QACZ,CAAC,CAAC;MAEN;IAGJ,CAAC,CAAC;EAKd,CAAC;EAEO,MAAMC,MAAM,GAAG,MAAK;IAEZlB,OAAO,CAAE;MACLC,KAAK,EAAG,EAAE;MACVC,MAAM,EAAE;IACZ,CAAC,CAAC;EAElB,CAAC;EAED,oBACI,QAAC,YAAY,CAAC,QAAQ;IAAC,KAAK,EAAE;MAACH,IAAI;MAACI,KAAK;MAACe;IAAM,CAAE;IAAA,UAC5CpB;EAAQ;IAAA;IAAA;IAAA;EAAA,QACU;AAGhC,CAAC;AAAA,GA3EYD,aAAa;AAAA,KAAbA,aAAa;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}